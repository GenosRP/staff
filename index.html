document.getElementById('login-form').addEventListener('submit', function(e) {
  e.preventDefault();

  const user = document.getElementById('username').value.trim();
  const pass = document.getElementById('password').value;

  if(users[user] && users[user] === pass) {
    // Registro en Google Sheets
    fetch('https://script.google.com/macros/s/AKfycby5s9X_UyPu2xhxHtlj-w9tmX7pKMLPVvICEhRQE6Yt-SOYVS2xxSbokfLeCO_isdNDgQ/exec' + encodeURIComponent(user))
      .then(response => response.text())
      .then(data => console.log(data))
      .catch(err => console.error('Error al registrar el acceso:', err));

    localStorage.setItem('genosUser', user);
    window.location.href = 'dashboard.html';
  } else {
    document.getElementById('error-msg').textContent = "Usuario o contrase√±a incorrectos.";
  }
});
